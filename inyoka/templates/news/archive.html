{% extends "news/base.html" %}
{% block title %}{{ _("Archive") }}{% endblock %}
{% from "news/_article.html" import render_article %}
{% block content %}
  {%- if month_list %}
    <h2>{% trans %}Archive{% endtrans %}</h2>
    <ul>
    {%- for item in articles %}
      <li><a href="{{ href('news/archive', year=item.year, month=item.month) }}">
        {{ item|monthformat }}
      </a></li>
    {%- else %}
      <li><em>{{ _("empty archive") }}</em></li>
    {%- endfor %}
    </ul>
  {%- else -%}
    {%- if not month %}
      <h2>{% trans year %}Archive for {{ year }}{% endtrans %}</h2>
    {%- elif not day %}
      <h2>{% trans month=date|monthformat %}Archive for {{ month }}{% endtrans %}</h2>
    {%- else %}
      <h2>{% trans day=date|dateformat('full') %}Archive for {{ day }}{% endtrans %}</h2>
    {%- endif %}
    {%- for article in articles %}
      {{ render_article(article) }}
    {%- endfor %}
    {{ pagination }}
  {%- endif %}
{% endblock %}
